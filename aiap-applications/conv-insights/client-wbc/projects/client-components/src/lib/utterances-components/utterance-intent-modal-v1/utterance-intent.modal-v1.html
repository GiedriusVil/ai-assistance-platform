<aiap-modal-v1
  size='md'
  [open]="isOpen"
  (overlaySelected)="close()">
  <aiap-modal-v1-header-v1 (closeSelect)="close()">
    <p class="bx--modal-header__heading bx--type-beta">
      {{ 'utterances.utterance_intent_modal.header' | translate }}
    </p>
  </aiap-modal-v1-header-v1>

  <form #updateUtteranceIntentModal="ngForm">
    <div class="bx--modal-content" style="overflow: hidden;">
    <div class="bx--form-item">
      <label for="text-input-3" class="bx--label">
        {{ 'utterances.utterance_intent_modal.content_utterance' | translate }}
      </label>
      <input id="text-input-3" type="text" class="bx--text-input" name="utteranceText"
      value="{{ utterance['utterance_text'] }}" disabled />
  <!-- </div>
  <div class="bx--form-item"> -->

      <label class="bx--label">
        {{ 'utterances.utterance_intent_modal.content_label_intents' | translate }}
      </label>
      <!-- // -->
      <div role="search" class="bx--search bx--search--lg" style="margin-bottom: 0.5rem;">
      <input name="intentSearch" #intentSearch class="bx--search-input" type="text" id="search__input-2"
        placeholder="{{ 'utterances.utterance_intent_modal.content_intent_search' | translate }}" [(ngModel)]="intentsSearch" />
      <svg class="bx--search-magnifier" width="16" height="16" viewBox="0 0 16 16">
        <path
        d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zm4.936-1.27l4.563 4.557-.707.708-4.563-4.558a6.5 6.5 0 1 1 .707-.707z"
        fill-rule="nonzero" />
      </svg>
      <button class="bx--search-close" [ngClass]="getIntentsSearchCloseClass()" 
        title="{{ 'utterances.utterance_intent_modal.content_intent_clear_search.title' | translate }}"
        aria-label="Clear search input" 
        (click)="resetIntentsSearch()">
        <svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
        <path
            d="M8 6.586L5.879 4.464 4.464 5.88 6.586 8l-2.122 2.121 1.415 1.415L8 9.414l2.121 2.122 1.415-1.415L9.414 8l2.122-2.121-1.415-1.415L8 6.586zM8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"
            fill-rule="evenodd" />
        </svg>
      </button>
      </div>
      <!-- // -->
      <div class="intents-list">
      <section class="bx--structured-list bx--structured-list--border bx--structured-list--selection"
        data-structured-list style="overflow: scroll;">
        <div class="bx--structured-list-thead">
        <div class="bx--structured-list-row bx--structured-list-row--header-row">
          <div class="bx--structured-list-th"></div>
          <div class="bx--structured-list-th">
            {{ 'utterances.utterance_intent_modal.intents_list.intent' | translate }}
          </div>
          <div class="bx--structured-list-th">
            {{ 'utterances.utterance_intent_modal.intents_list.description' | translate }}
          </div>
        </div>
        </div>
        <div class="bx--structured-list-tbody">
        <label *ngFor="let intent of intents | filterItems: intentSearch.value"
          aria-label="selectedIntent" class="bx--structured-list-row" tabindex="0">
          <input tabindex="-1" class="bx--structured-list-input" value="{{ intent.id }}" type="radio"
          name="selectedIntent" title="{{ intent.id }}" [(ngModel)]="utterance['intent_id']" required />
          <div class="bx--structured-list-td">
          <svg class="bx--structured-list-svg" width="16" height="16" viewBox="0 0 16 16">
            <path
            d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16zm3.646-10.854L6.75 10.043 4.354 7.646l-.708.708 3.104 3.103 5.604-5.603-.708-.708z"
            fill-rule="evenodd" />
          </svg>
          </div>
          <div class="bx--structured-list-td bx--structured-list-content--nowrap">#{{ intent.id }}</div>
          <div class="bx--structured-list-td">{{ intent.description }}</div>
        </label>
        </div>
      </section>
      </div>
      <!-- // -->
    </div>
    </div> 
  </form>

  <aiap-modal-v1-footer-v1>
    <button class="bx--btn bx--btn--secondary" (click)="close()">
      {{ 'utterances.utterance_intent_modal.footer_btn_cancel.text' | translate }}
    </button>
    <button class="bx--btn bx--btn--primary" modal-primary-focus 
      [disabled]="updateUtteranceIntentModal.invalid"
      (click)="update()">
      {{ 'utterances.utterance_intent_modal.btn_update.text' | translate }}
    </button>
  </aiap-modal-v1-footer-v1>
</aiap-modal-v1>
