<ibm-modal 
  size='lg'
  [open]="isOpen" 
  (overlaySelected)="close()">
  <ibm-modal-header (closeSelect)="close()">
    <p class="bx--modal-header__heading bx--type-beta">
      {{ 'test_workers_view_v1.save_modal_v1.header' | translate }}
    </p>
  </ibm-modal-header>
  <section ibmModalContent>
    <form #workerForm="ngForm">
      <div ibmGrid>
        <div ibmRow>
          <div ibmCol>
            <ibm-accordion>
              <ibm-accordion-item
                [title]="'test_workers_view_v1.save_modal_v1.fld_documentation.title' | translate"
                [expanded]="selections.instructionsExpanded">
                <aiap-test-worker-documentation-v1></aiap-test-worker-documentation-v1>
              </ibm-accordion-item>
            </ibm-accordion>
          </div>
        </div>
        <div ibmRow>&nbsp;</div>
        <div ibmRow>
          <div ibmCol [columnNumbers]="{ 'xlg': 4, 'lg': 4, 'md': 4, 'sm': 4}">
            <ibm-label>
              {{ 'test_workers_view_v1.save_modal_v1.fld_name.label' | translate }}
              <input 
                ibmText 
                required 
                name="worker_name" 
                [autocomplete]="false" 
                [(ngModel)]="worker.name">
            </ibm-label>
          </div>
          <div ibmCol [columnNumbers]="{ 'xlg': 4, 'lg': 4, 'md': 4, 'sm': 4}">
            <ibm-label
              [invalid]="isCronExpressionInvalid()"
              [invalidText]="'Cron expression is invalid!'">
              {{ 'test_workers_view_v1.save_modal_v1.fld_cron.label' | translate }}
              <input 
                ibmText 
                required 
                name="worker_cron_expression" 
                [autocomplete]="false" 
                [(ngModel)]="worker.cronExpression">
            </ibm-label>
          </div>
        </div>
        <div ibmRow>&nbsp;</div>
        <div ibmRow>
          <div ibmCol>
            <ibm-label>
              {{ 'test_workers_view_v1.save_modal_v1.fld_configuration.label' | translate }}
            </ibm-label>
            <json-editor 
              [options]="jsonEditorOptions" 
              [data]="worker.configuration">
            </json-editor>
          </div>
        </div>
      </div>
    </form>
  </section>
  <ibm-modal-footer>
    <button 
      ibmButton="secondary" 
      (click)="close()">
      {{ 'test_workers_view_v1.save_modal_v1.btn_cancel.text' | translate }}
    </button>
    <button 
      ibmButton="primary" 
      [disabled]="workerForm.invalid" 
      (click)="save()">
      {{ 'test_workers_view_v1.save_modal_v1.btn_save.text' | translate }}
    </button>
  </ibm-modal-footer>
</ibm-modal>
