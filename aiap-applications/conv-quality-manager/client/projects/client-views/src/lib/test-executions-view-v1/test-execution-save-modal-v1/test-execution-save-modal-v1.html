<ibm-modal 
  [open]="isOpen" 
  (overlaySelected)="close()" 
  size='lg'>
  <ibm-modal-header 
    (closeSelect)="close()">
    <p class="bx--modal-header__heading bx--type-beta">
      {{ 'test_executions_view_v1.save_modal_v1.header' | translate }}
    </p>
  </ibm-modal-header>
  <section ibmModalContent>
    <form #executionForm="ngForm">
      <div ibmGrid>
        <div ibmRow>
          <div ibmCol>
            <ibm-accordion>
              <ibm-accordion-item
                [title]="'test_executions_view_v1.save_modal_v1.fld_documentation.title' | translate"
                [expanded]="selections.instructionsExpanded">
                <aiap-test-execution-documentation-v1></aiap-test-execution-documentation-v1>
              </ibm-accordion-item>
            </ibm-accordion>
          </div>
        </div>
        <div ibmRow>&nbsp;</div>
        <div ibmRow>
          <div ibmCol [columnNumbers]="{ 'xlg': 6, 'lg': 6, 'md': 8, 'sm': 4}">
            <ibm-dropdown 
              name="execution_test_case" 
              placeholder="{{ 'test_executions_view_v1.save_modal_v1.fld_test_case.placeholder' | translate }}" 
              required 
              [label]="'test_executions_view_v1.save_modal_v1.fld_test_case.label' | translate"
              [(ngModel)]="selections.testCase">
              <ibm-dropdown-list 
                [items]="selections.testCases">
              </ibm-dropdown-list>
            </ibm-dropdown>
          </div>
          <div ibmCol [columnNumbers]="{ 'xlg': 6, 'lg': 6, 'md': 8, 'sm': 4}">
            <ibm-dropdown 
              name="execution_worker" 
              placeholder="{{ 'test_executions_view_v1.save_modal_v1.fld_worker.placeholder' | translate }}" 
              required 
              [label]="'test_executions_view_v1.save_modal_v1.fld_worker.label' | translate"
              [(ngModel)]="selections.worker">
              <ibm-dropdown-list 
                [items]="selections.workers">
              </ibm-dropdown-list>
            </ibm-dropdown>
          </div>
        </div>
        <div>&nbsp;</div>
        <div ibmRow *ngIf="execution.result">
          <div ibmCol [columnNumbers]="{ 'xlg': 12, 'lg': 12, 'md': 8, 'sm': 4}">
            <ibm-label>Result</ibm-label>
            <json-editor 
              [options]="jsonEditorOptions" 
              [data]="execution.result">
            </json-editor>
          </div>
        </div>
      </div>
    </form>
  </section>
  <ibm-modal-footer>
    <button 
      ibmButton="secondary" 
      (click)="close()">
      {{ 'test_executions_view_v1.save_modal_v1.btn_cancel.text' | translate }}
    </button>
    <button 
      ibmButton="primary" 
      [disabled]="executionForm.invalid" 
      (click)="save()">
      {{ 'test_executions_view_v1.save_modal_v1.btn_execute.text' | translate }}
    </button>
  </ibm-modal-footer>
</ibm-modal>
